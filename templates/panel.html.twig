{% extends 'base.html.twig' %}

{% block title %}Panel administratora{% endblock %}

{% block stylesheets %}
    <style>
        .link-sort {
            width: 100%;
            padding: 0;
            margin: 0;
        }
    </style>
{% endblock %}

{% block body %}
    <p class="display-6 my-4">Lista zgłoszeń</p>

    <table class="table table-dark table-striped">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Adres</th>
                <th scope="col">Zgłaszający</th>
                <th scope="col">Utworzone</th>
                <th scope="col" class="text-center">Akcje</th>
                <th scope="col" class="text-center">Status</th>
            </tr>
        </thead>
        <tbody>
            {% for request in requests %}
                <tr>
                    <th scope="row">{{ request.id }}</th>
                    <td>{{ request.address }}</td>
                    {# Do zmiany na system użytkowników #}
                    <td>Jan Kowalski #{{ request.userID }}</td>
                    <td>{{ request.createdOn|date('d-m-Y h:m:s') }}</td>
                    <td class="text-center">
                        <a href="/admin/request/{{ request.id }}" class="btn btn-dark">Wyświetl</a>
                        <a href="/admin/request/delete/{{ request.id }}" class="btn btn-danger">Usuń</a>
                    </td>
                    <td class="fs-3 lh-1 text-center">
                        {% if request.status == 'resolved' %}
                            <span class="fw-light badge bg-secondary">Zakończone</span>
                        {% elseif request.status == 'open' %}
                            <span class="fw-light badge bg-warning">W trakcie</span>
                        {% else %}
                            <span class="fw-light badge bg-success">Nowe</span>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}